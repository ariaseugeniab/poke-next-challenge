(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1074:(e,a,t)=>{"use strict";t.d(a,{default:()=>eu});var l=t(4793),s=t(9656);let r=s.Ay.object({name:s.Ay.string().optional(),page:s.Ay.string().optional(),type:s.Ay.string().optional(),orderBy:s.Ay.string().optional()}),n=[{value:"id-asc",label:"Pokemon No. (Asc)"},{value:"id-desc",label:"Pokemon No. (Desc)"},{value:"name-asc",label:"Name (A-Z)"},{value:"name-desc",label:"Name (Z-A)"},{value:"type-asc",label:"Type (A-Z)"},{value:"type-desc",label:"Type (Z-A)"}],i=["bug","dark","dragon","electric","fairy","fighting","fire","flying","ghost","grass","ground","ice","normal","poison","psychic","rock","steel","water"];var o=t(9549),c=t(6830),d=t(9143),u=t(1346),m=t(2534),p=t(8874),f=t(2141),x=t(138),h=t(840);let g=(0,t(4788).F)("text-base font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=f.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(h.b,{ref:a,className:(0,x.cn)(g(),t),...s})});v.displayName=h.b.displayName;let b=d.Op,j=f.createContext({}),y=f.forwardRef((e,a)=>{let{...t}=e,{error:s,formItemId:r,formDescriptionId:n,formMessageId:i}=k();return(0,l.jsx)(p.DX,{ref:a,id:r,"aria-describedby":s?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!s,...t})});y.displayName="FormControl";let N=f.forwardRef((e,a)=>{let{className:t,...s}=e,{formItemId:r}=k();return(0,l.jsx)(v,{ref:a,className:(0,x.cn)("font-semibold",t),htmlFor:r,...s})});N.displayName="FormLabel";let w=e=>{let{...a}=e;return(0,l.jsx)(j.Provider,{value:{name:a.name},children:(0,l.jsx)(d.xI,{...a})})},k=()=>{let e=f.useContext(j),a=f.useContext(C),{getFieldState:t,formState:l}=(0,d.xW)(),s=t(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:r}=a;return{id:r,name:e.name,formItemId:"".concat(r,"-form-item"),formDescriptionId:"".concat(r,"-form-item-description"),formMessageId:"".concat(r,"-form-item-message"),...s}},C=f.createContext({}),P=f.forwardRef((e,a)=>{let{className:t,...s}=e,r=f.useId();return(0,l.jsx)(C.Provider,{value:{id:r},children:(0,l.jsx)("div",{ref:a,className:(0,x.cn)("space-y-1.5",t),...s})})});P.displayName="FormItem",f.forwardRef((e,a)=>{let{className:t,...s}=e,{formDescriptionId:r}=k();return(0,l.jsx)("p",{ref:a,id:r,className:(0,x.cn)("text-muted-foreground text-sm",t),...s})}).displayName="FormDescription";let A=f.forwardRef((e,a)=>{let{className:t,children:s,...r}=e,{error:n,formMessageId:i}=k(),o=n?String(null==n?void 0:n.message):s;return o?(0,l.jsx)("p",{ref:a,id:i,className:(0,x.cn)("font-medium text-destructive text-sm",t),...r,children:o}):null});A.displayName="FormMessage";var z=t(8450);let F=e=>{let{className:a,control:t,name:s,label:r,placeholder:n,isClearable:i,onChange:o,onClear:c,...u}=e;return(0,l.jsx)(d.xI,{control:t,name:s,render:e=>{var t;let{field:d,fieldState:m}=e,p=!!m.error,f="input-".concat(s),x=p?"".concat(f,"-error"):void 0,h=x||void 0;return(0,l.jsxs)("div",{className:"input-group relative flex items-center",children:[r&&(0,l.jsx)("label",{htmlFor:f,className:"form-label sr-only",children:r}),(0,l.jsx)("input",{id:f,className:"form-control \n              flex h-8 w-full rounded-md border-0 bg-transparent px-3 py-2 text-sm transition-colors \n              disabled:cursor-not-allowed file:border-0 file:bg-transparent file:font-medium file:text-sm \n              placeholder:text-muted-foreground disabled:opacity-50\n              focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-500\n              ".concat(p?"border-red-500 focus-visible:ring-red-500":"border-gray-300","\n              ").concat(null!=a?a:""),placeholder:n,"aria-label":r||n,"aria-describedby":h,"aria-invalid":p,...d,onChange:e=>{d.onChange(e.target.value),null==o||o(e.target.value)},...u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),i&&d.value&&(0,l.jsx)("div",{className:"relative h-10",children:(0,l.jsx)("button",{type:"button",onClick:()=>{d.onChange(""),null==c||c()},className:"absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer p-1 rounded-md hover:bg-gray-100 transition-colors","aria-label":"Clear ".concat(r||"input"),tabIndex:0,children:(0,l.jsx)(z.A,{className:"w-4 h-4"})})}),p&&(0,l.jsx)("div",{id:x,role:"alert","aria-live":"polite",className:"sr-only",children:null==(t=m.error)?void 0:t.message})]})}})};var S=t(7603),_=t(4848),L=t(9834),R=t(5641);function I(e){let{...a}=e;return(0,l.jsx)(S.bL,{"data-slot":"select",...a})}function D(e){let{...a}=e;return(0,l.jsx)(S.WT,{"data-slot":"select-value",...a})}function O(e){let{className:a,size:t="default",children:s,...r}=e;return(0,l.jsxs)(S.l9,{"data-slot":"select-trigger","data-size":t,className:(0,x.cn)("border border-white min-w-5 h-full p-2 data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...r,children:[s,(0,l.jsx)(S.In,{asChild:!0,children:(0,l.jsx)(_.A,{className:"size-4 opacity-50"})})]})}function E(e){let{className:a,children:t,position:s="popper",...r}=e;return(0,l.jsx)(S.ZL,{children:(0,l.jsxs)(S.UC,{"data-slot":"select-content",className:(0,x.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-gray-200 shadow-md bg-white","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...r,children:[(0,l.jsx)(B,{}),(0,l.jsx)(S.LM,{className:(0,x.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,l.jsx)(M,{})]})})}function T(e){let{className:a,children:t,...s}=e;return(0,l.jsxs)(S.q7,{"data-slot":"select-item",className:(0,x.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2 cursor-pointer",a),...s,children:[(0,l.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,l.jsx)(S.VF,{children:(0,l.jsx)(L.A,{className:"size-4"})})}),(0,l.jsx)(S.p4,{children:t})]})}function B(e){let{className:a,...t}=e;return(0,l.jsx)(S.PP,{"data-slot":"select-scroll-up-button",className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,l.jsx)(R.A,{className:"size-4"})})}function M(e){let{className:a,...t}=e;return(0,l.jsx)(S.wn,{"data-slot":"select-scroll-down-button",className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,l.jsx)(_.A,{className:"size-4"})})}let V=e=>{let{name:a,label:t,children:s,classNameTrigger:r,className:n,placeholder:i,control:o,onChange:c,disabled:d,hiddenLabel:u=!1}=e,m=(0,f.useRef)(o._defaultValues[a]),p=(0,f.useRef)(!1);return(0,l.jsx)(w,{control:o,name:a,render:e=>{var a;let{field:o}=e;return(0,l.jsxs)(P,{className:n,children:[t&&(0,l.jsx)(N,{className:u?"sr-only":"",children:t}),(0,l.jsx)(y,{children:(0,l.jsxs)(I,{onOpenChange:e=>{if(!e&&o.value&&o.value===m.current&&!p.current){o.onChange(void 0),null==c||c(void 0);return}p.current=!1},onValueChange:e=>{o.onChange(""===e?void 0:e),null==c||c(e),m.current=e,p.current=!0},value:null!=(a=o.value)?a:"",children:[(0,l.jsx)(O,{className:r,disabled:d,size:"sm",children:(0,l.jsx)(D,{placeholder:i})}),(0,l.jsx)(E,{onPointerDownOutside:()=>{p.current=!0},className:"overflow-y-auto max-h-[300px]",children:s})]})}),(0,l.jsx)(A,{})]})}})};var Z=t(8006),q=t(7348);let G=e=>{var a,t,s,p;let{queryParams:f,setQueryParams:x}=e,h="h-8 focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-0 w-full md:w-auto",g=(0,d.mN)({resolver:(0,o.u)(r),defaultValues:{name:null!=(a=f.name)?a:"",type:null!=(t=f.type)?t:"",page:null!=(s=f.page)?s:"1",orderBy:null!=(p=f.orderBy)?p:n[0].value}});return(0,l.jsxs)("section",{className:"flex flex-col gap-2 mb-3","aria-labelledby":"search-title",children:[(0,l.jsx)(q.A,{id:"search-title",className:"text-2xl md:text-left text-center",children:"Find a Pok\xe9mon"}),(0,l.jsx)(Z.A,{className:"text-sm md:text-left text-center",children:"You can filter Pok\xe9mon by type or name"}),(0,l.jsx)(b,{...g,children:(0,l.jsxs)("form",{className:"flex md:flex-row flex-col md:items-center gap-2","aria-label":"Pokemon search form",children:[(0,l.jsxs)("fieldset",{className:"contents",children:[(0,l.jsx)("legend",{className:"sr-only",children:"Search and filter Pok\xe9mon"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 border border-white rounded-md shadow-xs mb-1.5",children:[(0,l.jsx)(c.A,{className:"text-grey w-5 h-5 ml-2","aria-hidden":"true"}),(0,l.jsx)(F,{control:g.control,name:"name",label:"Search by Pok\xe9mon name",placeholder:"Search by name",onClear:()=>{x({name:"",page:"1"})},onChange:e=>x({name:e,page:"1"}),isClearable:!0,className:"w-full md:w-auto"})]}),(0,l.jsx)(V,{control:g.control,name:"type",label:"Filter by Pok\xe9mon type",placeholder:"All types",onChange:e=>x({type:e,page:"1"}),hiddenLabel:!0,classNameTrigger:h,children:i.map(e=>(0,l.jsx)(T,{value:e,children:(0,l.jsx)(u.A,{type:e,className:"w-full"})},e))}),(0,l.jsx)(V,{control:g.control,name:"orderBy",label:"Sort Pok\xe9mon results",placeholder:"Order by",onChange:e=>x({orderBy:e,page:"1"}),hiddenLabel:!0,classNameTrigger:h,children:n.map(e=>(0,l.jsx)(T,{value:e.value,children:e.label},e.value))})]}),(0,l.jsx)(m.$,{type:"button",variant:"outline",className:"bg-transparent text-black cursor-pointer focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 h-8 mb-1.5",onClick:()=>{g.reset(),x({name:"",type:"",page:"1",orderBy:""})},"aria-label":"Clear all search filters",children:"Clear"})]})})]})};var Q=t(7594),W=t(3446),U=t(7928);let X=e=>{let{pokemonDetails:a,isLoading:t}=e;return(0,l.jsx)("section",{"aria-labelledby":"pokemon-results-title",children:t?(0,l.jsx)("div",{"aria-live":"polite",children:(0,l.jsx)(W.A,{})}):(0,l.jsx)("div",{children:a.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h2",{id:"pokemon-results-title",className:"sr-only",children:["Pokemon Results (",a.length," found)"]}),(0,l.jsx)("div",{className:"flex flex-wrap md:gap-2 gap-3 items-center justify-between","aria-label":"List of ".concat(a.length," Pokemon"),children:a.map(e=>(0,l.jsx)(U.A,{pokemon:e},e.id))})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[50vh] w-full","aria-live":"polite",children:[(0,l.jsx)(Q.default,{src:"/utils/psyduck.png",alt:"Confused Psyduck indicating no Pokemon were found",width:200,height:100}),(0,l.jsx)(q.A,{children:"No Pok\xe9mon found :("}),(0,l.jsx)(Z.A,{children:"Try searching for a different Pok\xe9mon name"})]})})})};var Y=t(7681),$=t(6250),H=t(1941),J=t(5446),K=t.n(J);function ee(e){let{className:a,...t}=e;return(0,l.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,x.cn)("mx-auto flex w-full justify-center",a),...t})}function ea(e){let{className:a,...t}=e;return(0,l.jsx)("ul",{"data-slot":"pagination-content",className:(0,x.cn)("flex flex-row items-center gap-1",a),...t})}function et(e){let{...a}=e;return(0,l.jsx)("li",{"data-slot":"pagination-item",...a})}function el(e){let{className:a,isActive:t,size:s="icon",...r}=e;return(0,l.jsx)(K(),{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,x.cn)((0,m.r)({variant:t?"outline":"ghost",size:s}),a),...r})}function es(e){let{className:a,...t}=e;return(0,l.jsxs)(el,{"aria-label":"Go to previous page",size:"default",className:(0,x.cn)("gap-1 px-2.5 sm:pl-2.5",a),...t,children:[(0,l.jsx)(Y.A,{}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function er(e){let{className:a,...t}=e;return(0,l.jsxs)(el,{"aria-label":"Go to next page",size:"default",className:(0,x.cn)("gap-1 px-2.5 sm:pr-2.5",a),...t,children:[(0,l.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,l.jsx)($.A,{})]})}function en(e){let{className:a,...t}=e;return(0,l.jsxs)("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:(0,x.cn)("flex size-9 items-center justify-center",a),...t,children:[(0,l.jsx)(H.A,{className:"size-4"}),(0,l.jsx)("span",{className:"sr-only",children:"More pages"})]})}let ei=e=>{let{currentPage:a,setCurrentPage:t,totalPages:s,queryParams:r,setQueryParams:n}=e,i=(0,f.useCallback)(e=>{t(e),n({...r,page:e.toString()})},[r,n,t]);return(0,l.jsx)(ee,{children:(0,l.jsxs)(ea,{children:[(0,l.jsx)(et,{children:(0,l.jsx)(es,{href:"#",onClick:e=>{e.preventDefault(),a>1&&i(a-1)},"aria-disabled":1===a,className:1===a?"pointer-events-none opacity-50":""})}),(()=>{let e=[1],t=Math.max(2,a-5),l=Math.min(s-1,a+5);t>2&&e.push("ellipsis");for(let a=t;a<=l;a++)e.push(a);return l<s-1&&e.push("ellipsis"),s>1&&e.push(s),e})().map(e=>(0,l.jsx)(et,{children:"ellipsis"===e?(0,l.jsx)(en,{}):(0,l.jsx)(el,{href:"#",onClick:a=>{a.preventDefault(),i(e)},isActive:a===e,children:e})},e)),(0,l.jsx)(et,{children:(0,l.jsx)(er,{href:"#",onClick:e=>{e.preventDefault(),a<s&&i(a+1)},"aria-disabled":a===s,className:a===s?"pointer-events-none opacity-50":""})})]})})};var eo=t(1833),ec=t(3051);let ed=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{debouncedValues:t=[]}=a,l=(0,ec.useRouter)(),r=(0,ec.usePathname)(),n=(0,ec.useSearchParams)(),[i,o]=(0,f.useState)(!1),[c,d]=(0,f.useState)(()=>e.parse({}));(0,f.useEffect)(()=>{o(!0);let a=Object.fromEntries(Array.from(n.entries()).map(e=>{let[a,t]=e;return[a,null!=t?t:void 0]}));d(e.parse(a))},[n,e]);let u=(0,f.useRef)({}),m=(0,f.useRef)(c),p=(0,f.useCallback)(a=>{if(!i)return;let t=e.parse({...m.current,...a}),s=new URLSearchParams(n.toString());for(let e in t){let a=t[e];null!=a&&""!==a?s.set(e,String(a)):s.delete(e)}l.replace("".concat(r,"?").concat(s.toString()),{scroll:!1}),m.current=t},[r,l,n,e,i]);return{queryParams:c,setQueryParams:(0,f.useCallback)(e=>{d(a=>({...a,...e}));let a={},l={};for(let s in e)t.includes(s)?a[s]=e[s]:l[s]=e[s];for(let e in Object.keys(l).length>0&&p(l),a){let t=s.z.string().parse(e);u.current[t]&&clearTimeout(u.current[t]),u.current[t]=setTimeout(()=>{p({[t]:a[t]}),u.current[t]=null},300)}},[t,p])}},eu=()=>{var e,a,t;let{queryParams:s,setQueryParams:n}=ed(r,{debouncedValues:["name"]}),[i,o]=(0,f.useState)(1),[c,d]=(0,f.useState)("");(0,f.useEffect)(()=>{s.page&&o(Number.parseInt(s.page))},[s.page]);let{data:u,isLoading:m}=(0,eo.dO)(20,(i-1)*20,s.name,s.type),p=null!=(e=null==u?void 0:u.results.filter(e=>!s.name||e.name.toLowerCase().includes(s.name.toLowerCase())).map(e=>e.name))?e:[],{data:x,isLoading:h}=(0,eo.tG)(p),g=((e,a)=>{if(!a)return e;let[t,l]=a.split("-"),s="asc"===l;return[...e].sort((e,a)=>{let l=0;return"id"===t?l=e.id-a.id:"name"===t&&(l=e.name.localeCompare(a.name)),s?l:-l})})(null!=x?x:[],null!=(a=s.orderBy)?a:""),v=Math.ceil((null!=(t=null==u?void 0:u.count)?t:0)/20);return(0,f.useEffect)(()=>{if(!h&&!m&&g){let e=g.length;s.name||s.type?d(0===e?"No Pok\xe9mon found":"Found ".concat(e," Pok\xe9mon").concat(1===e?"":"s")):d("Showing ".concat(e," Pok\xe9mon").concat(1===e?"":"s"))}},[g,h,m,s.name,s.type]),(0,l.jsxs)("div",{className:"space-y-4 md:w-11/12 w-full mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold md:text-left text-center",children:"Welcome to the Poke-Next"}),(0,l.jsx)(G,{queryParams:s,setQueryParams:n}),(s.name||s.type)&&g.length>0&&(0,l.jsx)("p",{className:"text-sm text-gray-500",children:c}),(0,l.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:c}),(h||m)&&(0,l.jsx)("div",{className:"sr-only","aria-live":"polite",children:(0,l.jsx)(W.A,{})}),(0,l.jsx)("main",{"aria-label":"Pokemon search results",children:(0,l.jsx)(X,{pokemonDetails:g,isLoading:h||m})}),v>1&&(0,l.jsx)("nav",{"aria-label":"Pokemon results pagination",children:(0,l.jsx)(ei,{currentPage:i,totalPages:v,setCurrentPage:o,queryParams:s,setQueryParams:n})})]})}},9433:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,7275,23)),Promise.resolve().then(t.bind(t,1074))}},e=>{var a=a=>e(e.s=a);e.O(0,[275,446,232,603,706,621,399,442,358],()=>a(9433)),_N_E=e.O()}]);